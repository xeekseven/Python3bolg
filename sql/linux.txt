部署在阿里云ubuntu的时候的一些记录

一、
对apt-get更新 为了安装mysql-server
sudo apt-get update

sudo apt-get install mysql-server

mysql -u root -p 

create database pydatabaseone;

mysql -u root -p pydatabaseone < py3.sql

pscp d:\mysql_sql\py3.sql root@121.42.188.70:/srv/
pscp -r f:\github\py3b root@121.42.188.70:/srv/
pscp f:\github\day-15\python3blog.conf root@121.42.188.70:/srv/


sudo apt-get install python-software-properties

sudo apt-get install software-properties-common

安装python3.5
sudo add-apt-repository ppa:fkrull/deadsnakes

sudo apt-get update

sudo apt-get install python3.5

sudo mv /usr/bin/python3 /usr/bin/python3-old

sudo ln -s /usr/bin/python3.5 /usr/bin/python3

sudo apt-get install python3-pip

安装virtualenv

sudo pip3 install virtualenv

mkdir mypy3env

cd mypy3env

virtualenv --no-site-packages venv

source venv/bin/activate

pip install aiohttp aiomysql jinja2


测试一下////
python3 /srv/py3b/www/app.py

supervisor守护app.py(找错ing)
\
首先：
ubuntu 14.04 阿里云

不要 supervisorctl reload!!!!!
不要 supervisorctl reload!!!!!
不要 supervisorctl reload!!!!!

1:
sudo apt-get install supervisor

2:
删除 /etc/supervisor/supervisord.conf

rm  /etc/supervisor/supervisord.conf

3:用命令创建配置文件
echo_supervisord_conf > /etc/supervisord.conf

4:在supervisord.conf里面写入[program:py3b],或者单独写外面，改[include]
再以此配置启动
supervisord -c/etc/supervisord.conf

5:
sudo supervisorctl

supervisorctl>start py3b
supervisorctl>status

6:出错的时候
supervisorctl tail <app_name> 可以查看

'''
1.
sudo apt-get install supervisor

2
cd /etc/supervisor

3
supervisord -c/etc/supervisor/supervisord.conf

sudo supervisorctl start py3b

supervisorctl shutdown

sudo touch /tmp/supervisor.sock

sudo chmod 777 /tmp/supervisor.sock

sudo service supervisor restart
'''



最后的小结一下:
用到了
操作系统：ubuntu14.04
守护进程：supervisor
web服务器：nginx
远程命令行小桌面ssh连接：putty
windows传输到linux：pscp  把pscp.exe放入 windows\system32命令行便可用
nginx

